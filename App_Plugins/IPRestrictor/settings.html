<h3 class="bold">IP Restrictor settings</h3>
<div class="umb-editor-container">
    <div ng-controller="koben.ipRestrictor.settingsController as vm">
        <table class="ip-listing">
            <thead>
                <tr>
                    <th colspan="4">
                        Whitelisted Ips
                    </th>
                </tr>
                <tr>
                    <th>
                        Alias
                    </th>
                    <th>
                        From Ip
                    </th>
                    <th>
                        To Ip
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tr>
                <td>localhost</td>
                <td>127.0.0.1</td>
                <td>127.0.0.1</td>
                <td></td>
            </tr>
            <tr ng-repeat="(index, entry) in vm.list">
                <td>{{entry.alias}}</td>
                <td>{{entry.fromIp}}</td>
                <td>{{entry.toIp}}</td>
                <td><button ng-click="vm.removeIp(index)" class="icon-trash"></button></td>
            </tr>
        </table>
        <form name="addnewipform" ng-submit="vm.addIp(vm.newip)">
            <fieldset>
                <legend>Add IP to whitelist</legend>
                <small>Please enter only IPv4 addresses</small>
                <label><b>Alias: </b> </label>
                <input type="text" ng-model="vm.newip.alias" required />

                <label><b>From IP: </b></label>
                <input type="text" ng-model="vm.newip.fromIp" ng-change="vm.newip.toIp = vm.newip.fromIp" placeholder="xxx.xxx.xxx.xxx" pattern="\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}" required />

                <label><b>To IP: </b></label>
                <input type="text" ng-model="vm.newip.toIp" placeholder="xxx.xxx.xxx.xxx" pattern="\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}" required />
                <umb-button label="Add"
                            type="submit"
                            button-style="success">
                </umb-button>
            </fieldset>


        </form>
        <hr />
        <div class="umb-editor-footer">
            <umb-button action="vm.save()"
                        state="vm.savingState"
                        label="Save"
                        type="button"
                        button-style="success"
                        icon="">
            </umb-button>
        </div>
    </div>
</div>